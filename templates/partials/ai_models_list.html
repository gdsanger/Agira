{% if models %}
<div class="table-responsive">
    <table class="table table-sm">
        <thead>
            <tr>
                <th>Model</th>
                <th>Input Price</th>
                <th>Output Price</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for model in models %}
            <tr>
                <td>
                    <strong>{{ model.name }}</strong>
                    {% if model.is_default %}
                    <span class="badge bg-primary" style="font-size: 0.7rem;">Default</span>
                    {% endif %}
                    <br>
                    <small class="text-muted">{{ model.model_id }}</small>
                </td>
                <td>
                    {% if model.input_price_per_1m_tokens %}
                    <small>${{ model.input_price_per_1m_tokens }}/1M</small>
                    {% else %}
                    <small class="text-muted">-</small>
                    {% endif %}
                </td>
                <td>
                    {% if model.output_price_per_1m_tokens %}
                    <small>${{ model.output_price_per_1m_tokens }}/1M</small>
                    {% else %}
                    <small class="text-muted">-</small>
                    {% endif %}
                </td>
                <td>
                    {% if model.active %}
                    <span class="badge bg-success" style="font-size: 0.7rem;">Active</span>
                    {% else %}
                    <span class="badge bg-secondary" style="font-size: 0.7rem;">Inactive</span>
                    {% endif %}
                </td>
                <td>
                    <div class="btn-group btn-group-sm" role="group">
                        <button type="button" class="btn btn-outline-primary btn-sm" 
                                onclick="editModel({{ model.id }}, '{{ model.name|escapejs }}', '{{ model.model_id|escapejs }}', {{ model.input_price_per_1m_tokens|default:'null' }}, {{ model.output_price_per_1m_tokens|default:'null' }}, {{ model.active|yesno:'true,false' }}, {{ model.is_default|yesno:'true,false' }})">
                            Edit
                        </button>
                        <button type="button" class="btn btn-outline-danger btn-sm"
                                hx-post="{% url 'ai-model-delete' provider.id model.id %}"
                                hx-target="#models-list"
                                hx-confirm="Delete this model?"
                                hx-on::after-request="if(event.detail.successful) showToast('Model deleted', 'success')">
                            Delete
                        </button>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="text-center py-4">
    <p class="text-muted">No models configured yet.</p>
    <p class="text-muted">Click "Add Model" or "Fetch Models" to get started.</p>
</div>
{% endif %}
